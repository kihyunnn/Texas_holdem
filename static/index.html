<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>텍사스 홀덤 트래커</title>
    <link rel="stylesheet" href="static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="main-header">
            <h1>🎲 홀덤 트래커</h1>
            <nav class="main-nav">
                <button class="nav-btn active" data-tab="record" onclick="switchTab('record')">게임 기록</button>
                <button class="nav-btn" data-tab="stats" onclick="switchTab('stats')">통계</button>
                <button class="nav-btn" data-tab="rankings" onclick="switchTab('rankings')">족보</button>
            </nav>
        </header>

        <main class="content-area">
            <!-- 1. 게임 기록 탭 -->
            <section id="record" class="tab-content active">
                <div class="card">
                    <h2>새 게임 기록</h2>
                    <form id="gameForm" onsubmit="handleGameSubmit(event)">
                        <div class="form-group">
                            <label>참여 플레이어 & 베팅</label>
                            <div id="playerSelectionList" class="player-list">
                                <!-- JS로 플레이어 목록 로드됨 -->
                                <div class="loading">플레이어 목록을 불러오는 중...</div>
                            </div>
                            <button type="button" class="btn-secondary small" onclick="openAddPlayerModal()">+ 새 플레이어 추가</button>
                        </div>

                        <div class="form-group">
                            <label for="potAmount">총 팟 금액 (판돈)</label>
                            <input type="number" id="potAmount" required min="0" step="100" placeholder="0">
                        </div>

                        <div class="form-group">
                            <label for="winnerSelect">승자</label>
                            <select id="winnerSelect" required>
                                <option value="">승자를 선택하세요</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="gameNotes">메모 (선택)</label>
                            <input type="text" id="gameNotes" placeholder="특이사항이나 블러핑 기록">
                        </div>

                        <button type="submit" class="btn-primary full-width">기록 저장</button>
                    </form>
                </div>
            </section>

            <!-- 2. 통계 탭 -->
            <section id="stats" class="tab-content">
                <div class="stats-grid">
                    <div class="card full-width">
                        <h2>🏆 리더보드</h2>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>순위</th>
                                        <th>이름</th>
                                        <th>게임</th>
                                        <th>승리</th>
                                        <th>순수익</th>
                                        <th>승률</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboardBody">
                                    <!-- JS로 데이터 로드됨 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="card full-width">
                        <h2>최근 게임 기록</h2>
                        <div id="recentGamesList" class="game-history-list">
                            <!-- JS로 데이터 로드됨 -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. 족보 탭 -->
            <section id="rankings" class="tab-content">
                <div class="card ranking-card">
                    <h2>텍사스 홀덤 핸드 랭킹</h2>
                    <div class="ranking-list">
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">1</span>
                                <h3>로열 플러시 (Royal Flush)</h3>
                                <p>같은 무늬의 A, K, Q, J, 10</p>
                            </div>
                            <div class="cards-preview">♠A ♠K ♠Q ♠J ♠10</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">2</span>
                                <h3>스트레이트 플러시 (Straight Flush)</h3>
                                <p>같은 무늬의 연속된 5장</p>
                            </div>
                            <div class="cards-preview">♥9 ♥8 ♥7 ♥6 ♥5</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">3</span>
                                <h3>포 카드 (Four of a Kind)</h3>
                                <p>같은 숫자의 카드 4장</p>
                            </div>
                            <div class="cards-preview">♣5 ♦5 ♥5 ♠5</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">4</span>
                                <h3>풀 하우스 (Full House)</h3>
                                <p>트리플 1세트 + 페어 1세트</p>
                            </div>
                            <div class="cards-preview">♠K ♣K ♦K ♠9 ♥9</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">5</span>
                                <h3>플러시 (Flush)</h3>
                                <p>무늬가 같은 카드 5장</p>
                            </div>
                            <div class="cards-preview">♦A ♦J ♦8 ♦4 ♦2</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">6</span>
                                <h3>스트레이트 (Straight)</h3>
                                <p>무늬 상관없이 연속된 5장</p>
                            </div>
                            <div class="cards-preview">♠9 ♣8 ♥7 ♦6 ♠5</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">7</span>
                                <h3>트리플 (Three of a Kind)</h3>
                                <p>같은 숫자 3장</p>
                            </div>
                            <div class="cards-preview">♠Q ♣Q ♥Q</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">8</span>
                                <h3>투 페어 (Two Pair)</h3>
                                <p>페어(같은 숫자 2장)가 2세트</p>
                            </div>
                            <div class="cards-preview">♠J ♣J ♦8 ♠8</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">9</span>
                                <h3>원 페어 (One Pair)</h3>
                                <p>같은 숫자 2장 1세트</p>
                            </div>
                            <div class="cards-preview">♠10 ♣10</div>
                        </div>
                        <div class="ranking-item">
                            <div class="rank-info">
                                <span class="rank-badge">10</span>
                                <h3>하이 카드 (High Card)</h3>
                                <p>족보가 없을 때 가장 높은 숫자</p>
                            </div>
                            <div class="cards-preview">A > K > Q ...</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 플레이어 추가 모달 -->
    <div id="addPlayerModal" class="modal">
        <div class="modal-content">
            <h3>새 플레이어 추가</h3>
            <div class="form-group">
                <input type="text" id="newPlayerName" placeholder="이름 입력 (예: 홍길동)">
            </div>
            <div class="modal-actions">
                <button class="btn-text" onclick="closeAddPlayerModal()">취소</button>
                <button class="btn-primary" onclick="submitNewPlayer()">추가</button>
            </div>
        </div>
    </div>

    <script src="static/app.js"></script>
</body>
</html>
